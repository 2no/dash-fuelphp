<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>FuelPHP: Fuel Email Package.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FuelPHP
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespace_fuel.html">Fuel</a> Email Package. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A full fledged email class for <a class="el" href="namespace_fuel.html">Fuel</a>. Send mails using php's mail function, sendmail or SMTP.</p>
<h1>Summary</h1>
<ul>
<li>Send plain/text or html with (optional) alternative plain/text bodies using mail, sendmail or SMTP.</li>
<li>Add attachments, normal or inline and string or file.</li>
<li>Automatic inline file attachments for html bodies.</li>
<li>Configurable attachment paths.</li>
</ul>
<h1>Usage</h1>
<pre class="fragment">$mail = Email::forge();
$mail-&gt;from('me@domain.com', 'Your Name Here');

// Set to
$mail-&gt;to('mail@domain.com');

// Set with name
$mail-&gt;to('mail@domain.com', 'His/Her Name');

// Set as arrau
$mail-&gt;to(array(
    // Without name
    'mail@domain.com',

    // With name
    'mail@domain.com' =&gt; 'His/Her Name',
));

// Work the same for -&gt;cc and -&gt;bcc and -&gt;reply_to


// Set a body message
$email-&gt;body('My email body');

// Set a html body message
$email-&gt;html_body(\View::forge('email/template', $email_data));

/**

    By default this will also generate an alt body from the html,
    and attach any inline files (not paths like http://...)

**/

// Set an alt body
$email-&gt;alt_body('This is my alt body, for non-html viewers.');

// Set a subject
$email-&gt;subject('This is the subject');

// Change the priority
$email-&gt;priority(\Email::P_HIGH);

// And send it
$result = $email-&gt;send();
</pre><h1>Exceptions</h1>
<pre class="fragment">+ \EmailValidationFailedException, thrown when one or more email addresses doesn't pass validation
+ \EmailSendingFailedException, thrown when the driver failed to send the exception
</pre><p>Example: </p><pre class="fragment">// Use the default config and change the driver
$email = \Email::forge('default', array('driver' =&gt; 'smtp'));
$email-&gt;subject('My Subject');
$email-&gt;html_body(\View::forge('email/template', $email_data));
$email-&gt;from('me@example.com', 'It's Me!');
$email-&gt;to('other@example.com', 'It's the Other!');

try
{
    $email-&gt;send();
}
catch(\EmailValidationFailedException $e)
{
    // The validation failed
}
catch(\EmailSendingFailedException $e)
{
    // The driver could not send the email
}
</pre><h1>Priorities</h1>
<p>These can me one of the following: </p><pre class="fragment">+ \Email::P_LOWEST - 1 (lowest)
+ \Email::P_LOW - 2 (low)
+ \Email::P_NORMAL - 3 (normal) - this is the default
+ \Email::P_HIGH - 4 (high)
+ \Email::P_HIGHEST - 5 (highest)
</pre><h1>Attachments</h1>
<p>There are multiple ways to add attachments: </p><pre class="fragment">$email = Email::forge();

// Add an attachment
$email-&gt;attach(DOCROOT.'dir/my_img.png');

// Add an inline attachment
// Add a cid here to point to the html
$email-&gt;attach(DOCROOT.'dir/my_img.png', true, 'cid:my_conten_id');
</pre><p>You can also add string attachments </p><pre class="fragment">$contents = file_get_contents($my_file);
$email-&gt;string_attach($contents, $filename);
</pre><p>By default html images are auto included, but it only includes local files. Look at the following html to see how it works. </p><pre class="fragment">// This is included
&lt;img src="path/to/my/file.png" /&gt;

// This is not included
&lt;img src="http://remote_host/file.jpeg" /&gt;
</pre><h1>That's it. Questions?</h1>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 8 2014 19:41:03 for FuelPHP by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
